import{u as f,b,j as t,B as a,F as i,c as j,T as s,S as o,V as y,d as F,e as h,f as A,r as m,g as H,h as P,I as $,H as D,i as E}from"./index-CSHzmPQq.js";import{u as L}from"./index-BD7cTk_D.js";import{I as _}from"./index-CuDuXzQc.js";import{a as G}from"./SliderCategory--vx421Mp.js";import{R as M,a as O,b as T}from"./rating-group-BZWEwWGg.js";import"./for-C-OR-lR2.js";import"./use-field-context-Dbw0st8X.js";const V=()=>{const d=f(),{colorMode:n}=b(),e=n==="light"?"gray.200":"gray.700",c=n==="light"?"white":"gray.900",x=()=>d(-1);return t.jsxs(a,{mt:10,children:[t.jsxs(i,{alignItems:"center",mx:"auto",maxW:"sm",fontSize:"lg",cursor:"pointer",onClick:x,mb:5,color:n==="light"?"gray.700":"gray.300",children:[t.jsx(j,{}),t.jsx(s,{ml:"2",children:"Back"})]}),t.jsxs(a,{maxW:"sm",position:"relative",mx:"auto",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",boxShadow:"md",px:4,py:3,bg:c,transition:"0.3s",display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",children:[t.jsx(o,{mx:"auto",boxSize:"200px",borderRadius:"md",bg:e}),t.jsx(o,{position:"absolute",top:"10px",left:"-3px",height:"25px",width:"60px",borderRadius:"md",bg:e}),t.jsx(i,{flexDirection:"column",gap:3,position:"absolute",right:"10px",top:"20px",children:t.jsx(o,{height:"30px",width:"30px",borderRadius:"full",bg:e})}),t.jsxs(y,{align:"start",mt:6,p:3,w:"full",children:[t.jsx(o,{height:"20px",width:"70%",bg:e}),t.jsx(F,{noOfLines:3,p:"3",h:"3",bg:e}),t.jsx(o,{height:"16px",width:"40%",bg:e}),t.jsxs(i,{alignItems:"center",gap:3,w:"full",children:[t.jsx(o,{height:"20px",width:"80px",bg:e}),t.jsx(o,{height:"20px",width:"30px",bg:e})]}),t.jsxs(i,{justifyContent:"space-between",w:"full",alignItems:"center",mt:3,children:[t.jsx(o,{height:"24px",width:"100px",bg:e}),t.jsx(h,{disabled:!0,borderRadius:"full",p:0,bg:e,height:"40px",width:"40px"})]})]})]})]})},Y=()=>{const{documentId:d}=A(),n=f(),{colorMode:e}=b(),[c,x]=m.useState(!1),w=H(),{data:l,isLoading:S}=L({action:"get",queryKey:[`product${d}`],url:`api/products/${d}?populate[0]=thumbnail&populate[1]=category&fields[0]=title&fields[1]=documentId&fields[2]=id&fields[3]=description&fields[4]=price&fields[5]=rating&fields[6]=discount&fields[7]=stock`});m.useEffect(()=>{l?.data?.title&&(document.title=`Product ${l.data.title} Page`)},[l]);const z=()=>n(-1),I=()=>{l?.data&&w(E(l.data))};if(S)return t.jsx(V,{});if(!l?.data)return null;const k=l.data,{title:p,description:C,price:g,thumbnail:R,category:v,rating:u,discount:r,stock:W}=k,B=R?.url||"";return t.jsxs(t.Fragment,{children:[t.jsxs(a,{mt:10,px:{base:4,md:6},children:[t.jsxs(i,{alignItems:"center",mx:"auto",maxW:"4xl",fontSize:"lg",cursor:"pointer",onClick:z,mb:5,_hover:{color:"teal.500"},transition:"0.2s",children:[t.jsx(j,{}),t.jsx(s,{ml:2,children:"Back"})]}),t.jsxs(a,{maxW:"4xl",minH:"sm",position:"relative",mx:"auto",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",boxShadow:"md",p:{base:4,md:6},bg:e==="light"?"white":"gray.900",transition:"all 0.3s",_hover:{transform:"scale(1.01)",boxShadow:"lg"},children:[r&&r>0?t.jsxs(a,{bg:"red.500",color:"white",borderRadius:"md",position:"absolute",top:"10px",left:"10px",py:1,px:3,fontWeight:"bold",fontSize:"sm",zIndex:2,children:["%",r]}):null,t.jsx(i,{position:"absolute",right:"10px",top:"10px",zIndex:2,children:t.jsx(h,{variant:"ghost",p:2,borderRadius:"full",onClick:()=>x(!c),_hover:{bg:e==="light"?"gray.100":"gray.700"},children:t.jsx(P,{style:{color:c?"#EF4444":"#9e9e9e",transition:"0.3s",fontSize:"24px"}})})}),t.jsxs(i,{direction:{base:"column",md:"row"},alignItems:{base:"center",md:"flex-start"},gap:6,children:[t.jsx(a,{flexShrink:0,children:t.jsx($,{src:B,alt:p,boxSize:{base:"200px",md:"250px"},objectFit:"cover",borderRadius:"md",border:"1px solid",borderColor:e==="light"?"gray.200":"gray.700",shadow:"md"})}),t.jsxs(y,{align:"start",flex:1,p:4,w:"full",children:[t.jsx(D,{size:{base:"lg",md:"xl"},color:e==="light"?"teal.600":"teal.300",children:p}),t.jsx(s,{color:e==="light"?"gray.600":"gray.300",fontSize:"sm",lineHeight:"tall",children:C}),t.jsxs(i,{alignItems:"center",children:[t.jsx(s,{fontSize:"md",fontWeight:"semibold",color:e==="light"?"teal.600":"teal.300",children:"Category:"}),t.jsx(s,{ml:2,fontSize:"sm",color:e==="light"?"gray.600":"gray.300",children:v?.title||"N/A"})]}),t.jsxs(i,{alignItems:"center",gap:2,children:[t.jsxs(M,{colorPalette:"yellow",readOnly:!0,count:5,defaultValue:u,size:"md",children:[t.jsx(O,{}),t.jsx(T,{})]}),t.jsx(s,{fontWeight:"semibold",children:u}),t.jsxs(s,{color:e==="light"?"teal.600":"teal.300",fontSize:"sm",children:["(",W," in stock)"]})]}),t.jsxs(i,{justifyContent:"space-between",w:"full",alignItems:"center",mt:4,children:[r&&r>0?t.jsxs(i,{alignItems:"center",gap:2,children:[t.jsxs(s,{fontWeight:"bold",fontSize:"2xl",color:e==="light"?"teal.600":"teal.300",children:["$",(g*(1-r/100)).toFixed(2)]}),t.jsxs(s,{textDecoration:"line-through",color:e==="light"?"gray.500":"gray.400",fontSize:"lg",children:["$",g.toFixed(2)]})]}):t.jsxs(s,{fontWeight:"bold",color:e==="light"?"teal.600":"teal.300",fontSize:"2xl",children:["$",g.toFixed(2)]}),t.jsxs(h,{colorScheme:"teal",size:"lg",borderRadius:"full",onClick:I,_hover:{transform:"scale(1.05)"},transition:"0.2s",children:[t.jsx(_,{size:24}),"Add to Cart"]})]})]})]})]})]}),t.jsx(G,{})]})};export{Y as default};
