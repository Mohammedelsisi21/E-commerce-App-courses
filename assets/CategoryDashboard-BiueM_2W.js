import{j as e,R as U,F as g,H as F,S as n,b as I,b9 as se,r as x,aZ as _,B as R,T as y,e as p,a_ as M,a$ as L,b0 as P,q as b,b2 as E,ba as ae,b1 as re,bb as oe,b4 as ie,V as le,I as O,b5 as ne,p as de,b7 as ce,b8 as xe}from"./index-BqQq8Mid.js";import{T as N,a as B,b as w,c as u,d as H,e as j,P as W,B as D,f as $,g as V,h as G,C as A,F as q,k as K,l as Q,m as Z,A as he,N as ue,i as je,j as ge,n as me}from"./AlertDialog-DfBKw406.js";import{u as pe,o as be,c as fe}from"./index-CoWkKmZv.js";import{a as Ce}from"./index-cp1Sii4O.js";import{F as J,c as X,d as z,e as T,I as Y}from"./input-B3gAvikP.js";import"./for-C-OR-lR2.js";import"./use-field-context-WkUkySJN.js";const ye=()=>{const a=Array.from({length:5});return e.jsxs(U,{width:"70%",gap:"5",mx:{md:"auto",base:"10px"},children:[e.jsxs(g,{justifyContent:"space-between",children:[e.jsx(F,{size:"xl",children:e.jsx(n,{height:"30px",w:"200px"})}),e.jsx(n,{bg:"green.500",height:"30px",w:"80px"})]}),e.jsxs(N,{size:"sm",variant:"outline",striped:!0,children:[e.jsx(B,{children:e.jsxs(w,{children:[e.jsx(u,{children:"Image"}),e.jsx(u,{children:"ID"}),e.jsx(u,{children:"Title"}),e.jsx(u,{children:"Number Of Product"}),e.jsx(u,{children:"Actions"})]})}),e.jsx(H,{children:a.map((r,s)=>e.jsxs(w,{children:[e.jsx(j,{children:e.jsx(n,{boxSize:"40px",borderRadius:"md"})}),e.jsx(j,{children:e.jsx(n,{height:"20px",w:"20px"})}),e.jsx(j,{children:e.jsx(n,{height:"20px",w:"100px"})}),e.jsx(j,{children:e.jsx(n,{height:"20px",w:"80px"})}),e.jsx(j,{children:e.jsxs(g,{children:[e.jsx(n,{bg:"blue.500",mr:2,height:"30px",w:"25px"}),e.jsx(n,{bg:"red.500",mr:2,height:"30px",w:"25px"}),e.jsx(n,{bg:"tan",height:"30px",w:"25px"})]})})]},s))})]}),e.jsx(W,{count:5,pageSize:5,page:1,mx:"auto",children:e.jsxs(D,{variant:"ghost",size:"sm",wrap:"wrap",children:[e.jsx($,{asChild:!0,children:e.jsx(n,{boxSize:"32px"})}),e.jsx(V,{render:()=>e.jsx(n,{boxSize:"32px",m:"1"})}),e.jsx(G,{asChild:!0,children:e.jsx(n,{boxSize:"32px"})})]})})]})},ve=()=>{const{colorMode:a}=I(),r=a==="dark",[s,{isLoading:d,isSuccess:h}]=se(),[c,i]=x.useState(!1),{register:l,handleSubmit:t,formState:{errors:o}}=pe({resolver:be(fe)});x.useEffect(()=>{h&&(_.success("Create product successfully.",{position:"bottom-right",autoClose:500,theme:"colored"}),i(!1))},[h]);const v=async S=>{try{const f=await E(S.thumbnail[0]),k={data:{title:S.title,thumbnail:f[0].id?[f[0].id]:[]}};await s(k)}catch(f){console.error("âŒ Error creating Cagegory:",f)}};return e.jsx(A,{open:c,onClose:i,openModal:e.jsx(b,{"aria-label":"Create",onClick:()=>i(!0),variant:"outline",size:"md",colorScheme:"green",color:"white",bg:"green.500",_hover:{transform:"scale(1.08)",bg:"green.600"},_active:{bg:"green.700"},borderColor:"green.400",children:e.jsxs(g,{gap:"5px",p:2,children:[e.jsx(y,{fontSize:"md",fontWeight:"medium",children:"Create Category"}),e.jsx(Ce,{size:20})]})}),title:"Create Category",children:e.jsx(R,{as:"form",onSubmit:t(v),children:e.jsx(J,{size:"lg",maxW:"md",children:e.jsxs(X,{children:[e.jsxs(z,{children:[e.jsx(T,{color:o.title?"red.500":r?"teal.200":"teal.700",children:"Title"}),e.jsx(Y,{...l("title"),bg:r?"gray.800":"white",borderColor:o.title?"red.500":r?"gray.700":"teal.300",_focus:{borderColor:`${o.title?"red.500":"teal.400"}`,boxShadow:"0 0 0 1px teal.400"},color:o.title?"red.500":r?"teal.100":"gray.700"})]}),o.title&&e.jsx(y,{color:"red.500",children:o.title.message}),e.jsxs(z,{children:[e.jsx(g,{children:e.jsx(T,{mr:"5px",color:o.title?"red.500":r?"teal.200":"teal.700",children:"Thumbnail"})}),e.jsxs(q,{children:[e.jsx(K,{type:"file",accept:"image/*",...l("thumbnail")}),e.jsx(Q,{borderColor:o.thumbnail?"red.500":r?"gray.700":"teal.300",asChild:!0,w:"100%",name:"stock",bg:r?"gray.800":"white",_focus:{borderColor:"teal.400",boxShadow:"0 0 0 1px teal.400"},color:o.thumbnail?"red.500":r?"teal.100":"gray.700",children:e.jsxs(p,{variant:"outline",size:"sm",w:"100%",children:[e.jsx(M,{})," Upload file"]})}),e.jsx(Z,{})]})]}),o.thumbnail&&e.jsx(y,{color:"red.500",children:o.thumbnail.message}),e.jsxs(L,{display:"flex",justifyContent:"flex-end",gap:"3",children:[e.jsx(P,{asChild:!0,children:e.jsx(p,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"})}),e.jsx(p,{type:"submit",loading:d,variant:"outline",textTransform:"capitalize",fontSize:"md",fontWeight:"semibold",colorScheme:"green",color:"green.500",_hover:{transform:"scale(1.02)",boxShadow:"md"},_active:{transform:"scale(0.98)"},children:"Done"})]})]})})})})},Se=({category:a})=>{const{colorMode:r}=I(),s=r==="dark",[d,{isLoading:h,isSuccess:c}]=ae(),[i,l]=x.useState(!1),[t,o]=x.useState(null),[v,S]=x.useState({title:a.title});x.useEffect(()=>{c&&(_.success("Updata product successfully.",{position:"bottom-right",autoClose:500,theme:"colored"}),l(!1))},[c]);const f=C=>{S({...v,[C.target.name]:C.target.value})},k=C=>{const m=C.target.files?.[0];m&&o(m)},ee=async C=>{C.preventDefault();try{let m=null;t&&(m=(await E(t))[0]?.id);const te={data:{title:v.title,thumbnail:m?[m]:a.thumbnail?[a.thumbnail[0].id]:[]}};d({id:a.documentId,body:te})}catch(m){console.error("Failed to update:",m)}};return e.jsx(A,{open:i,onClose:l,openModal:e.jsx(b,{"aria-label":"Update",onClick:()=>l(!0),variant:"outline",size:"sm",color:"white",bg:"tan",_hover:{transform:"scale(1.08)",bg:"tan"},children:e.jsx(re,{})}),title:"Update Category",children:e.jsx(R,{as:"form",onSubmit:ee,children:e.jsx(J,{size:"lg",maxW:"md",children:e.jsxs(X,{children:[e.jsxs(z,{children:[e.jsx(T,{color:s?"teal.200":"teal.700",children:"Title"}),e.jsx(Y,{name:"title",value:v.title,onChange:f,bg:s?"gray.800":"white",borderColor:s?"gray.700":"teal.300",_focus:{borderColor:"teal.400",boxShadow:"0 0 0 1px teal.400"},color:s?"teal.100":"gray.700"})]}),e.jsxs(z,{children:[e.jsx(g,{children:e.jsx(T,{mr:"5px",color:s?"teal.200":"teal.700",children:"Thumbnail"})}),e.jsxs(q,{children:[e.jsx(K,{onChange:k,type:"file",accept:"image/*"}),e.jsx(Q,{borderColor:s?"gray.700":"teal.300",asChild:!0,w:"100%",name:"stock",bg:s?"gray.800":"white",_focus:{borderColor:"teal.400",boxShadow:"0 0 0 1px teal.400"},color:s?"teal.100":"gray.700",children:e.jsxs(p,{variant:"outline",size:"sm",w:"100%",children:[e.jsx(M,{})," Upload file"]})}),e.jsx(Z,{})]})]}),e.jsxs(L,{display:"flex",justifyContent:"flex-end",gap:"3",children:[e.jsx(P,{asChild:!0,children:e.jsx(p,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"})}),e.jsx(p,{variant:"outline",type:"submit",loading:h,textTransform:"capitalize",fontSize:"md",fontWeight:"semibold",colorScheme:"blue",color:"blue.500",_hover:{transform:"scale(1.02)",boxShadow:"md"},_active:{transform:"scale(0.98)"},children:"Update"})]})]})})})})},we=({id:a})=>{const[r,{isLoading:s,isSuccess:d}]=oe();x.useEffect(()=>{d&&_.success("Removed product successfully.",{position:"bottom-right",autoClose:500,theme:"colored"})},[d]);const h=async()=>{await r(a)};return e.jsx(he,{btn:e.jsx(b,{"aria-label":"Remove",variant:"outline",size:"sm",color:"white",bg:"red.500",_hover:{transform:"scale(1.08)",bg:"red.500"},children:e.jsx(ie,{})}),isLoading:s,onHandleOkText:h,variant:"outline",color:"red",title:"Are you sure?",description:"Do you really want to destroy this product? This action cannot be undone.",okText:"remove"})},ze=({category:a})=>{const{colorMode:r}=I(),s=r==="dark",{title:d,thumbnail:h}=a,[c,i]=x.useState(!1);return e.jsx(A,{open:c,onClose:i,openModal:e.jsx(b,{"aria-label":"View",onClick:()=>i(!0),variant:"outline",size:"sm",color:"white",bg:"blue.500",_hover:{transform:"scale(1.1)",bg:"blue.600"},children:e.jsx(ne,{})}),title:"Product Details",children:e.jsxs(le,{align:"stretch",p:4,divideColor:s?"gray.700":"gray.200",children:[e.jsxs(g,{alignItems:"center",children:[e.jsx(O,{src:`${h[0].url}`,alt:d,boxSize:"200px",loading:"lazy",objectFit:"cover",borderRadius:"xl",shadow:"xl",transition:"all 0.3s ease",_hover:{transform:"scale(1.05)"}}),e.jsxs(R,{ml:"30px",children:[e.jsx(F,{size:"lg",mb:1,color:s?"teal.200":"teal.700",textAlign:"center",children:d}),e.jsxs(y,{fontSize:"sm",textAlign:"center",color:s?"gray.400":"gray.600",children:["ID: ",a.id??"N/A"]})]})]}),e.jsx(L,{display:"flex",justifyContent:"flex-end",gap:"3",children:e.jsx(P,{asChild:!0,children:e.jsx(p,{onClick:()=>i(!1),variant:"outline",type:"button",textTransform:"capitalize",fontSize:"md",fontWeight:"semibold",colorScheme:"blue",color:"blue.500",_hover:{transform:"scale(1.02)",boxShadow:"md"},_active:{transform:"scale(0.98)"},children:"OK"})})})]})})},Te=()=>{const[a,r]=x.useState(1),[s,d]=x.useState(10),{isLoading:h,data:c}=de({page:a,pageSize:s}),{colorMode:i}=I(),l=i==="dark";return h?e.jsx(ye,{}):e.jsxs(U,{shadow:"sm",p:2,width:"70%",gap:"5",mr:{base:"10px",md:"auto"},ml:{base:"0",md:"auto"},children:[e.jsxs(g,{justifyContent:"space-between",children:[e.jsx(F,{size:"xl",children:"Categories"}),e.jsx(ve,{})]}),e.jsxs(N,{size:"sm",striped:!0,children:[e.jsx(B,{children:e.jsxs(w,{children:[e.jsx(u,{children:"Image"}),e.jsx(u,{children:"ID"}),e.jsx(u,{children:"Title"}),e.jsx(u,{children:"Numer of product"}),e.jsx(u,{children:"Actions"})]})}),e.jsx(H,{children:c?.data?.map((t,o)=>e.jsxs(w,{children:[e.jsx(j,{children:e.jsx(O,{src:`${t.thumbnail[0].url}`,alt:t.title,boxSize:"40px",objectFit:"cover",borderRadius:"md"})}),e.jsx(j,{children:o+1}),e.jsx(j,{children:t.title}),e.jsx(j,{children:e.jsx(y,{children:t.products.length})}),e.jsx(j,{children:e.jsxs(D,{p:2,children:[e.jsx(ze,{category:t}),e.jsx(we,{id:t.documentId}),e.jsx(Se,{category:t})]})})]},t.id))})]}),e.jsxs(g,{w:"100%",justifyContent:"space-between",alignItems:"center",mx:"auto",children:[e.jsxs(g,{gap:1,alignItems:"center",children:[e.jsxs(ue,{size:"sm",width:"200px",children:[e.jsxs(je,{onChange:t=>d(parseInt(t.target.value)),name:"pageSize",bg:l?"gray.800":"white",borderColor:l?"gray.700":"teal.300",_focus:{borderColor:"teal.400",boxShadow:"0 0 0 1px teal.400"},color:l?"teal.100":"gray.700",children:[e.jsx("option",{value:"10",selected:!0,children:"10"}),e.jsx("option",{value:"15",children:"15"}),e.jsx("option",{value:"30",children:"30"}),e.jsx("option",{value:"50",children:"50"})]}),e.jsx(ge,{})]}),e.jsxs(y,{color:l?"teal.100":"gray.700",children:["Entries per page ",c?.meta?.pagination.total]})]}),e.jsx(W,{count:c?.meta?.pagination.total,pageSize:c?.meta?.pagination.pageSize,page:a,onPageChange:t=>r(t.page),children:e.jsxs(D,{variant:"ghost",size:"sm",children:[e.jsx($,{asChild:!0,children:e.jsx(b,{children:e.jsx(ce,{})})}),e.jsx(V,{render:t=>e.jsx(me,{asChild:!0,...t,children:e.jsx(b,{variant:t.value===a?"solid":"ghost",children:t.value})},t.value)}),e.jsx(G,{asChild:!0,children:e.jsx(b,{children:e.jsx(xe,{})})})]})})]})]})},Ae=()=>(x.useEffect(()=>{document.title="Dashboard Category"}),e.jsx(Te,{}));export{Ae as default};
